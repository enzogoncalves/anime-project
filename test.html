<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    let sort = "POPULARITY_DESC"
    let query = `
      query ($id: Int) {
        Media(id: $id) {
          id
          title {
            english
            romaji
          }
          coverImage {
            large
          }
          episodes
          duration
          genres
          isAdult
          popularity
          bannerImage
          trending
          favourites
          description
          averageScore
          format
        }
      }
      
      `;

  let variables = {
    id: 5114
  };

  let url = "https://graphql.anilist.co",
    options = {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Accept: "application/json",
      },
      body: JSON.stringify({
        query: query,
        variables: variables,
      }),
    };

    fetch(url, options)
    .then(handleResponse)
    .then(handleData)
    .catch(handleError)


    function handleResponse(response) {
      return response.json().then(function (json) {
        return response.ok ? json : Promise.reject(json);
      });
    }

function handleError(error) {
  alert("Error, check console");
  console.error(error);
}

function handleData(data) {
  console.log(data.data.Media)
}

  </script>
</body>
</html>